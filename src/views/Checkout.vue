<template>
  <div class="checkout-page">
    <!-- Timer Warning Banner -->
    <div class="timer-banner">
      <div class="banner-content">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
          <circle cx="12" cy="12" r="10" stroke="white" stroke-width="2"/>
          <path d="M12 6v6l4 2" stroke="white" stroke-width="2" stroke-linecap="round"/>
        </svg>
        <span class="timer-text">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ó‡∏≥‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡∏†‡∏≤‡∏¢‡πÉ‡∏ô <strong>09:59</strong> ‡∏ô‡∏≤‡∏ó‡∏µ</span>
      </div>
    </div>

    <!-- Progress Indicator -->
    <div class="progress-container">
      <div class="progress-steps">
        <div class="step completed">
          <div class="step-circle">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
              <path d="M3 8l4 4 6-6" stroke="white" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </div>
          <span class="step-label">‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏™‡∏£‡∏¥‡∏°</span>
        </div>
        <div class="step-line completed"></div>
        <div class="step active">
          <div class="step-circle">2</div>
          <span class="step-label">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡πÄ‡∏ä‡πà‡∏≤/‡∏Ç‡∏±‡∏ö‡∏Ç‡∏µ‡πà</span>
        </div>
        <div class="step-line"></div>
        <div class="step">
          <div class="step-circle">3</div>
          <span class="step-label">‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô</span>
        </div>
      </div>
    </div>

    <div class="checkout-container">
      <!-- Left Column -->
      <div class="left-column">
        <!-- Special Offer Section -->
        <section class="special-offer-section">
          <div class="offer-header">
            <h2 class="offer-title">‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠‡∏û‡∏¥‡πÄ‡∏®‡∏©!</h2>
            <p class="offer-subtitle">‡∏≠‡∏±‡∏õ‡πÄ‡∏Å‡∏£‡∏î‡∏£‡∏ñ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÉ‡∏ô‡∏£‡∏≤‡∏Ñ‡∏≤‡∏û‡∏¥‡πÄ‡∏®‡∏©‡∏Å‡πà‡∏≠‡∏ô‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô</p>
          </div>

          <div class="offer-cards">
            <div v-for="car in specialOfferCars" :key="car.id" class="offer-card">
              <div class="offer-badge">‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î 15%</div>
              <div class="car-image">
                <img :src="car.image" :alt="car.name" />
              </div>
              <h3 class="car-name">{{ car.name }}</h3>
              <div class="car-specs">
                <div class="spec-item">
                  <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                    <circle cx="8" cy="8" r="6" stroke="#637381" stroke-width="1.5"/>
                  </svg>
                  <span>{{ car.transmission }}</span>
                </div>
                <div class="spec-item">
                  <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                    <path d="M4 8h8M8 4v8" stroke="#637381" stroke-width="1.5"/>
                  </svg>
                  <span>{{ car.seats }} ‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á</span>
                </div>
              </div>
              <div class="car-pricing">
                <div class="original-price">‡∏ø{{ car.originalPrice }}/‡∏ß‡∏±‡∏ô</div>
                <div class="offer-price">‡∏ø{{ car.offerPrice }}/‡∏ß‡∏±‡∏ô</div>
              </div>
              <button class="upgrade-button" @click="selectUpgrade(car)">
                ‡∏≠‡∏±‡∏õ‡πÄ‡∏Å‡∏£‡∏î‡πÄ‡∏•‡∏¢
              </button>
            </div>
          </div>
        </section>

        <!-- Driver/Renter Information -->
        <section class="checkout-section">
          <div class="section-header">
            <div class="icon-circle">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                <circle cx="12" cy="8" r="4" stroke="#161C24" stroke-width="2"/>
                <path d="M5 20c0-3 3-5 7-5s7 2 7 5" stroke="#161C24" stroke-width="2"/>
              </svg>
            </div>
            <h2 class="section-title">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡∏Ç‡∏±‡∏ö‡∏Ç‡∏µ‡πà/‡∏ú‡∏π‡πâ‡πÄ‡∏ä‡πà‡∏≤</h2>
          </div>

          <div class="form-section">
            <div class="form-header-row">
              <h3 class="form-subtitle">‡∏ú‡∏π‡πâ‡πÄ‡∏ä‡πà‡∏≤/‡∏ú‡∏π‡πâ‡∏Ç‡∏±‡∏ö‡∏Ç‡∏µ‡πà</h3>
              <div class="checkbox-group">
                <input type="checkbox" id="sameAsPrimary" v-model="driverSameAsRenter" />
                <label for="sameAsPrimary">‡∏ú‡∏π‡πâ‡∏à‡∏≠‡∏á‡∏Ñ‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏ú‡∏π‡πâ‡∏Ç‡∏±‡∏ö‡∏Ç‡∏µ‡πà (‡∏ú‡∏π‡πâ‡πÄ‡∏ä‡πà‡∏≤)</label>
              </div>
            </div>

            <div class="form-grid-3">
              <div class="form-group">
                <label>‡∏Ñ‡∏≥‡∏ô‡∏≥‡∏´‡∏ô‡πâ‡∏≤ <span class="required">*</span></label>
                <select v-model="driverInfo.title" class="form-input">
                  <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ñ‡∏≥‡∏ô‡∏≥‡∏´‡∏ô‡πâ‡∏≤</option>
                  <option value="‡∏ô‡∏≤‡∏¢">‡∏ô‡∏≤‡∏¢</option>
                  <option value="‡∏ô‡∏≤‡∏á">‡∏ô‡∏≤‡∏á</option>
                  <option value="‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß">‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß</option>
                </select>
              </div>
              <div class="form-group">
                <label>‡∏ä‡∏∑‡πà‡∏≠ <span class="required">*</span></label>
                <input type="text" v-model="driverInfo.firstName" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠" class="form-input" />
              </div>
              <div class="form-group">
                <label>‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏• <span class="required">*</span></label>
                <input type="text" v-model="driverInfo.lastName" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•" class="form-input" />
              </div>
            </div>
          </div>

          <!-- Additional Driver -->
          <div class="form-section">
            <div class="form-header-row clickable" @click="toggleAdditionalDriver">
              <h3 class="form-subtitle">‡∏ú‡∏π‡πâ‡∏Ç‡∏±‡∏ö‡∏Ç‡∏µ‡πà‡πÄ‡∏™‡∏£‡∏¥‡∏°</h3>
              <button class="add-button" type="button">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                  <path d="M8 3v10M3 8h10" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                </svg>
                ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ú‡∏π‡πâ‡∏Ç‡∏±‡∏ö‡∏Ç‡∏µ‡πà
              </button>
            </div>

            <Transition name="expand">
              <div v-if="showAdditionalDriver" class="additional-driver-form">
                <div class="form-grid-3">
                  <div class="form-group">
                    <label>‡∏Ñ‡∏≥‡∏ô‡∏≥‡∏´‡∏ô‡πâ‡∏≤</label>
                    <select v-model="additionalDriver.title" class="form-input">
                      <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ñ‡∏≥‡∏ô‡∏≥‡∏´‡∏ô‡πâ‡∏≤</option>
                      <option value="‡∏ô‡∏≤‡∏¢">‡∏ô‡∏≤‡∏¢</option>
                      <option value="‡∏ô‡∏≤‡∏á">‡∏ô‡∏≤‡∏á</option>
                      <option value="‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß">‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß</option>
                    </select>
                  </div>
                  <div class="form-group">
                    <label>‡∏ä‡∏∑‡πà‡∏≠</label>
                    <input type="text" v-model="additionalDriver.firstName" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠" class="form-input" />
                  </div>
                  <div class="form-group">
                    <label>‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•</label>
                    <input type="text" v-model="additionalDriver.lastName" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•" class="form-input" />
                  </div>
                </div>
              </div>
            </Transition>
          </div>
        </section>

        <!-- Account Information -->
        <section class="checkout-section">
          <div class="section-header">
            <div class="icon-circle">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                <circle cx="12" cy="12" r="10" stroke="#161C24" stroke-width="2"/>
                <path d="M12 8v4M12 16h.01" stroke="#161C24" stroke-width="2" stroke-linecap="round"/>
              </svg>
            </div>
            <h2 class="section-title">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ö‡∏±‡∏ç‡∏ä‡∏µ</h2>
          </div>

          <div class="form-grid-2">
            <div class="form-group">
              <label>‡∏≠‡∏µ‡πÄ‡∏°‡∏• <span class="required">*</span></label>
              <input type="email" v-model="accountInfo.email" placeholder="example@email.com" class="form-input" />
            </div>
            <div class="form-group">
              <label>‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô <span class="required">*</span></label>
              <div class="password-input-wrapper">
                <input
                  :type="showPassword ? 'text' : 'password'"
                  v-model="accountInfo.password"
                  placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô"
                  class="form-input"
                  @input="validatePassword"
                />
                <button type="button" class="password-toggle" @click="showPassword = !showPassword">
                  <svg v-if="showPassword" width="20" height="20" viewBox="0 0 20 20" fill="none">
                    <path d="M3 3l14 14M10 7a3 3 0 013 3" stroke="#919EAB" stroke-width="1.5"/>
                  </svg>
                  <svg v-else width="20" height="20" viewBox="0 0 20 20" fill="none">
                    <circle cx="10" cy="10" r="3" stroke="#919EAB" stroke-width="1.5"/>
                    <path d="M2 10s3-6 8-6 8 6 8 6-3 6-8 6-8-6-8-6z" stroke="#919EAB" stroke-width="1.5"/>
                  </svg>
                </button>
              </div>
            </div>
          </div>

          <!-- Password Validation -->
          <div class="password-validation">
            <div class="validation-item" :class="{ valid: passwordValidation.minLength }">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                <path d="M3 8l4 4 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              </svg>
              <span>‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 8 ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£</span>
            </div>
            <div class="validation-item" :class="{ valid: passwordValidation.hasUpperCase }">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                <path d="M3 8l4 4 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              </svg>
              <span>‡∏°‡∏µ‡∏ï‡∏±‡∏ß‡∏û‡∏¥‡∏°‡∏û‡πå‡πÉ‡∏´‡∏ç‡πà</span>
            </div>
            <div class="validation-item" :class="{ valid: passwordValidation.hasNumber }">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                <path d="M3 8l4 4 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              </svg>
              <span>‡∏°‡∏µ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç</span>
            </div>
            <div class="validation-item" :class="{ valid: passwordValidation.hasSpecial }">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                <path d="M3 8l4 4 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              </svg>
              <span>‡∏°‡∏µ‡∏≠‡∏±‡∏Å‡∏Ç‡∏£‡∏∞‡∏û‡∏¥‡πÄ‡∏®‡∏© (!@#$%)</span>
            </div>
          </div>
        </section>

        <!-- Contact Information -->
        <section class="checkout-section">
          <div class="section-header">
            <div class="icon-circle">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                <path d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" stroke="#161C24" stroke-width="2"/>
              </svg>
            </div>
            <h2 class="section-title">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠</h2>
          </div>

          <div class="form-grid-2">
            <div class="form-group">
              <label>‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå <span class="required">*</span></label>
              <div class="phone-input-wrapper">
                <select v-model="contactInfo.countryCode" class="country-code-select">
                  <option value="+66">üáπüá≠ +66</option>
                  <option value="+1">üá∫üá∏ +1</option>
                  <option value="+44">üá¨üáß +44</option>
                  <option value="+86">üá®üá≥ +86</option>
                </select>
                <input type="tel" v-model="contactInfo.phone" placeholder="812345678" class="form-input phone-input" />
              </div>
            </div>
            <div class="form-group">
              <label>‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß‡∏ö‡∏¥‡∏ô (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)</label>
              <input type="text" v-model="contactInfo.flightNumber" placeholder="TG123" class="form-input" />
            </div>
          </div>
        </section>

        <!-- Tax Invoice -->
        <section class="checkout-section">
          <div class="section-header">
            <div class="icon-circle">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                <path d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" stroke="#161C24" stroke-width="2"/>
              </svg>
            </div>
            <h2 class="section-title">‡πÉ‡∏ö‡∏Å‡∏≥‡∏Å‡∏±‡∏ö‡∏†‡∏≤‡∏©‡∏µ</h2>
          </div>

          <div class="radio-group">
            <div class="radio-item" :class="{ active: taxInfo.type === 'personal' }">
              <input type="radio" id="personal" value="personal" v-model="taxInfo.type" />
              <label for="personal">
                <div class="radio-circle">
                  <div v-if="taxInfo.type === 'personal'" class="radio-inner"></div>
                </div>
                <span>‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•‡∏ò‡∏£‡∏£‡∏°‡∏î‡∏≤</span>
              </label>
            </div>
            <div class="radio-item" :class="{ active: taxInfo.type === 'company' }">
              <input type="radio" id="company" value="company" v-model="taxInfo.type" />
              <label for="company">
                <div class="radio-circle">
                  <div v-if="taxInfo.type === 'company'" class="radio-inner"></div>
                </div>
                <span>‡∏ô‡∏¥‡∏ï‡∏¥‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•</span>
              </label>
            </div>
          </div>

          <!-- Tax ID -->
          <div class="form-group">
            <label>‡πÄ‡∏•‡∏Ç‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ï‡∏±‡∏ß‡∏ú‡∏π‡πâ‡πÄ‡∏™‡∏µ‡∏¢‡∏†‡∏≤‡∏©‡∏µ <span class="required">*</span></label>
            <input
              type="text"
              v-model="taxInfo.taxId"
              placeholder="1234567890123"
              maxlength="13"
              class="form-input"
            />
            <span class="input-hint">‡∏Å‡∏£‡∏≠‡∏Å‡πÄ‡∏•‡∏Ç‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ï‡∏±‡∏ß‡∏ú‡∏π‡πâ‡πÄ‡∏™‡∏µ‡∏¢‡∏†‡∏≤‡∏©‡∏µ 13 ‡∏´‡∏•‡∏±‡∏Å</span>
          </div>

          <!-- Contact Person -->
          <div class="form-grid-3">
            <div class="form-group">
              <label>‡∏Ñ‡∏≥‡∏ô‡∏≥‡∏´‡∏ô‡πâ‡∏≤ <span class="required">*</span></label>
              <select v-model="taxInfo.contactTitle" class="form-input">
                <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ñ‡∏≥‡∏ô‡∏≥‡∏´‡∏ô‡πâ‡∏≤</option>
                <option value="‡∏ô‡∏≤‡∏¢">‡∏ô‡∏≤‡∏¢</option>
                <option value="‡∏ô‡∏≤‡∏á">‡∏ô‡∏≤‡∏á</option>
                <option value="‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß">‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß</option>
              </select>
            </div>
            <div class="form-group">
              <label>‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠ <span class="required">*</span></label>
              <input type="text" v-model="taxInfo.contactFirstName" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠" class="form-input" />
            </div>
            <div class="form-group">
              <label>‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•‡∏ú‡∏π‡πâ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠ <span class="required">*</span></label>
              <input type="text" v-model="taxInfo.contactLastName" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•" class="form-input" />
            </div>
          </div>
        </section>

        <!-- Address Information -->
        <section class="checkout-section">
          <div class="section-header">
            <div class="icon-circle">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0118 0z" stroke="#161C24" stroke-width="2"/>
                <circle cx="12" cy="10" r="3" stroke="#161C24" stroke-width="2"/>
              </svg>
            </div>
            <h2 class="section-title">‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà</h2>
          </div>

          <div class="form-grid-2">
            <div class="form-group">
              <label>‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏® <span class="required">*</span></label>
              <select v-model="addressInfo.country" class="form-input">
                <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®</option>
                <option value="‡πÑ‡∏ó‡∏¢">‡πÑ‡∏ó‡∏¢</option>
                <option value="‡∏™‡∏´‡∏£‡∏±‡∏ê‡∏≠‡πÄ‡∏°‡∏£‡∏¥‡∏Å‡∏≤">‡∏™‡∏´‡∏£‡∏±‡∏ê‡∏≠‡πÄ‡∏°‡∏£‡∏¥‡∏Å‡∏≤</option>
              </select>
            </div>
            <div class="form-group">
              <label>‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î <span class="required">*</span></label>
              <select v-model="addressInfo.province" class="form-input">
                <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î</option>
                <option value="‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏°‡∏´‡∏≤‡∏ô‡∏Ñ‡∏£">‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏°‡∏´‡∏≤‡∏ô‡∏Ñ‡∏£</option>
                <option value="‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà">‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà</option>
                <option value="‡∏†‡∏π‡πÄ‡∏Å‡πá‡∏ï">‡∏†‡∏π‡πÄ‡∏Å‡πá‡∏ï</option>
              </select>
            </div>
          </div>

          <div class="form-grid-2">
            <div class="form-group">
              <label>‡πÄ‡∏Ç‡∏ï/‡∏≠‡∏≥‡πÄ‡∏†‡∏≠ <span class="required">*</span></label>
              <select v-model="addressInfo.district" class="form-input">
                <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏Ç‡∏ï/‡∏≠‡∏≥‡πÄ‡∏†‡∏≠</option>
                <option value="‡∏ö‡∏≤‡∏á‡∏£‡∏±‡∏Å">‡∏ö‡∏≤‡∏á‡∏£‡∏±‡∏Å</option>
                <option value="‡∏õ‡∏ó‡∏∏‡∏°‡∏ß‡∏±‡∏ô">‡∏õ‡∏ó‡∏∏‡∏°‡∏ß‡∏±‡∏ô</option>
              </select>
            </div>
            <div class="form-group">
              <label>‡πÅ‡∏Ç‡∏ß‡∏á/‡∏ï‡∏≥‡∏ö‡∏• <span class="required">*</span></label>
              <select v-model="addressInfo.subDistrict" class="form-input">
                <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏Ç‡∏ß‡∏á/‡∏ï‡∏≥‡∏ö‡∏•</option>
                <option value="‡∏™‡∏µ‡∏•‡∏°">‡∏™‡∏µ‡∏•‡∏°</option>
                <option value="‡∏™‡∏∏‡∏£‡∏¥‡∏ß‡∏á‡∏®‡πå">‡∏™‡∏∏‡∏£‡∏¥‡∏ß‡∏á‡∏®‡πå</option>
              </select>
            </div>
          </div>

          <div class="form-grid-2">
            <div class="form-group">
              <label>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà</label>
              <select v-model="addressInfo.houseType" class="form-input">
                <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</option>
                <option value="‡∏ö‡πâ‡∏≤‡∏ô">‡∏ö‡πâ‡∏≤‡∏ô</option>
                <option value="‡∏Ñ‡∏≠‡∏ô‡πÇ‡∏î">‡∏Ñ‡∏≠‡∏ô‡πÇ‡∏î</option>
                <option value="‡∏≠‡∏û‡∏≤‡∏£‡πå‡∏ó‡πÄ‡∏°‡∏ô‡∏ï‡πå">‡∏≠‡∏û‡∏≤‡∏£‡πå‡∏ó‡πÄ‡∏°‡∏ô‡∏ï‡πå</option>
              </select>
            </div>
            <div class="form-group">
              <label>‡∏ö‡πâ‡∏≤‡∏ô‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà <span class="required">*</span></label>
              <input type="text" v-model="addressInfo.houseNumber" placeholder="123" class="form-input" />
            </div>
          </div>

          <div class="form-grid-3">
            <div class="form-group">
              <label>‡∏´‡∏°‡∏π‡πà‡∏ö‡πâ‡∏≤‡∏ô</label>
              <input type="text" v-model="addressInfo.village" placeholder="‡∏´‡∏°‡∏π‡πà‡∏ö‡πâ‡∏≤‡∏ô" class="form-input" />
            </div>
            <div class="form-group">
              <label>‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£</label>
              <input type="text" v-model="addressInfo.building" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£" class="form-input" />
            </div>
            <div class="form-group">
              <label>‡∏ã‡∏≠‡∏¢</label>
              <input type="text" v-model="addressInfo.soi" placeholder="‡∏ã‡∏≠‡∏¢" class="form-input" />
            </div>
          </div>

          <div class="form-grid-2">
            <div class="form-group">
              <label>‡∏ñ‡∏ô‡∏ô</label>
              <input type="text" v-model="addressInfo.road" placeholder="‡∏ñ‡∏ô‡∏ô" class="form-input" />
            </div>
            <div class="form-group">
              <label>‡∏£‡∏´‡∏±‡∏™‡πÑ‡∏õ‡∏£‡∏©‡∏ì‡∏µ‡∏¢‡πå <span class="required">*</span></label>
              <input type="text" v-model="addressInfo.postalCode" placeholder="10500" maxlength="5" class="form-input" />
            </div>
          </div>

          <!-- Full Address Display -->
          <div class="form-group">
            <label>‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡πÄ‡∏ï‡πá‡∏°</label>
            <textarea v-model="fullAddress" class="form-textarea" rows="3" readonly></textarea>
          </div>
        </section>

        <!-- Terms and Conditions -->
        <section class="checkout-section">
          <div class="checkbox-group-vertical">
            <div class="checkbox-item">
              <input type="checkbox" id="terms" v-model="agreements.terms" />
              <label for="terms">‡∏â‡∏±‡∏ô‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö<a href="/terms">‡∏Ç‡πâ‡∏≠‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÅ‡∏•‡∏∞‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç</a></label>
            </div>
            <div class="checkbox-item">
              <input type="checkbox" id="privacy" v-model="agreements.privacy" />
              <label for="privacy">‡∏â‡∏±‡∏ô‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö<a href="/privacy-policy">‡∏ô‡πÇ‡∏¢‡∏ö‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß</a></label>
            </div>
          </div>
        </section>
      </div>

      <!-- Right Column - Summary -->
      <div class="right-column">
        <div class="summary-card">
          <!-- Car Image -->
          <div class="summary-car-image">
            <img src="https://images.unsplash.com/photo-1605559424843-9e4c228bf1c2?w=400&h=250&fit=crop" alt="Selected Car" />
          </div>

          <!-- Car Details -->
          <div class="summary-car-details">
            <h3 class="car-title">TOYOTA YARIS CROSS</h3>
            <p class="car-subtitle">‡∏´‡∏£‡∏∑‡∏≠‡∏£‡∏ñ‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡πà‡∏≤</p>
          </div>

          <!-- Trip Details -->
          <div class="trip-details">
            <div class="trip-row">
              <div class="trip-label">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                  <rect x="3" y="2" width="10" height="10" rx="1" stroke="#637381" stroke-width="1.2"/>
                </svg>
                <span>‡∏£‡∏±‡∏ö‡∏£‡∏ñ</span>
              </div>
              <div class="trip-value">01 ‡∏™.‡∏Ñ. 68, 09:00</div>
            </div>
            <div class="trip-row">
              <div class="trip-label">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                  <circle cx="8" cy="8" r="5" stroke="#637381" stroke-width="1.2"/>
                </svg>
                <span>‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ö‡∏£‡∏ñ</span>
              </div>
              <div class="trip-value">Suvarnabhumi Airport</div>
            </div>
            <div class="divider"></div>
            <div class="trip-row">
              <div class="trip-label">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                  <rect x="3" y="2" width="10" height="10" rx="1" stroke="#637381" stroke-width="1.2"/>
                </svg>
                <span>‡∏Ñ‡∏∑‡∏ô‡∏£‡∏ñ</span>
              </div>
              <div class="trip-value">03 ‡∏™.‡∏Ñ. 68, 09:00</div>
            </div>
            <div class="trip-row">
              <div class="trip-label">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                  <circle cx="8" cy="8" r="5" stroke="#637381" stroke-width="1.2"/>
                </svg>
                <span>‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏Ñ‡∏∑‡∏ô‡∏£‡∏ñ</span>
              </div>
              <div class="trip-value">Suvarnabhumi Airport</div>
            </div>
          </div>

          <!-- Payment Breakdown -->
          <div class="payment-breakdown">
            <h4 class="breakdown-title">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô</h4>
            <div class="breakdown-row">
              <span>‡∏Ñ‡πà‡∏≤‡πÄ‡∏ä‡πà‡∏≤‡∏£‡∏ñ (2 ‡∏ß‡∏±‡∏ô)</span>
              <span>‡∏ø1,600.00</span>
            </div>
            <div class="breakdown-row">
              <span>‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏†‡∏±‡∏¢ SCDW</span>
              <span>‡∏ø500.00</span>
            </div>
            <div class="breakdown-row">
              <span>‡∏Ñ‡πà‡∏≤‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö-‡∏™‡πà‡∏á</span>
              <span>‡∏ø100.00</span>
            </div>
            <div class="breakdown-row discount">
              <span>‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î (NEWUSER10)</span>
              <span>-‡∏ø210.00</span>
            </div>
            <div class="divider"></div>
            <div class="breakdown-row subtotal">
              <span>‡∏£‡∏ß‡∏°</span>
              <span>‡∏ø1,990.00</span>
            </div>
            <div class="breakdown-row">
              <span>‡∏†‡∏≤‡∏©‡∏µ‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤‡πÄ‡∏û‡∏¥‡πà‡∏° (7%)</span>
              <span>‡∏ø139.30</span>
            </div>
          </div>

          <!-- Total -->
          <div class="total-section">
            <div class="total-row">
              <span class="total-label">‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</span>
              <span class="total-amount">‡∏ø2,129.30</span>
            </div>
          </div>

          <!-- Payment Method -->
          <div class="payment-method-section">
            <h4 class="payment-title">‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô</h4>
            <div class="payment-options">
              <div class="payment-option" :class="{ active: paymentMethod === 'now' }">
                <input type="radio" id="payNow" value="now" v-model="paymentMethod" />
                <label for="payNow">
                  <div class="radio-circle">
                    <div v-if="paymentMethod === 'now'" class="radio-inner"></div>
                  </div>
                  <div class="payment-details">
                    <span class="payment-name">‡∏ä‡∏≥‡∏£‡∏∞‡∏ó‡∏±‡∏ô‡∏ó‡∏µ</span>
                    <div class="payment-amounts">
                      <span class="discount-badge">‡∏•‡∏î 5%</span>
                      <span class="payment-price">‡∏ø2,022.84</span>
                    </div>
                  </div>
                </label>
              </div>
              <div class="payment-option" :class="{ active: paymentMethod === 'later' }">
                <input type="radio" id="payLater" value="later" v-model="paymentMethod" />
                <label for="payLater">
                  <div class="radio-circle">
                    <div v-if="paymentMethod === 'later'" class="radio-inner"></div>
                  </div>
                  <div class="payment-details">
                    <span class="payment-name">‡∏ä‡∏≥‡∏£‡∏∞‡∏ó‡∏µ‡∏´‡∏•‡∏±‡∏á</span>
                    <div class="payment-amounts">
                      <span class="payment-price">‡∏ø2,129.30</span>
                    </div>
                  </div>
                </label>
              </div>
            </div>
          </div>

          <!-- Submit Button -->
          <button class="submit-button" @click="proceedToPayment">
            ‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠
            <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
              <path d="M7 5l5 5-5 5" stroke="white" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </button>

          <!-- Credit Card Note -->
          <div class="credit-card-note">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
              <rect x="3" y="6" width="18" height="13" rx="2" stroke="#161C24" stroke-width="1.5"/>
              <path d="M3 10h18" stroke="#161C24" stroke-width="1.5"/>
            </svg>
            <div class="note-content">
              <strong>‡πÇ‡∏õ‡∏£‡∏î‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏ö‡∏±‡∏ï‡∏£‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï</strong>
              <ul>
                <li>‡∏ä‡∏∑‡πà‡∏≠‡∏ö‡∏±‡∏ï‡∏£‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÄ‡∏ä‡πà‡∏≤</li>
                <li>‡∏°‡∏µ‡∏ß‡∏á‡πÄ‡∏á‡∏¥‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ ‡∏ø6,000</li>
                <li>‡πÑ‡∏°‡πà‡∏£‡∏±‡∏ö‡∏ö‡∏±‡∏ï‡∏£‡πÄ‡∏î‡∏ö‡∏¥‡∏ï</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup>
import { ref, computed } from 'vue'
import { useRouter } from 'vue-router'

const router = useRouter()

// Special Offer Cars
const specialOfferCars = ref([
  {
    id: 1,
    name: 'TOYOTA CAMRY 2.5 HV',
    image: 'https://images.unsplash.com/photo-1621007947382-bb3c3994e3fb?w=300&h=200&fit=crop',
    transmission: '‡∏≠‡∏≠‡πÇ‡∏ï‡πâ',
    seats: 5,
    originalPrice: '1200',
    offerPrice: '1020'
  },
  {
    id: 2,
    name: 'HONDA ACCORD 1.5 TURBO',
    image: 'https://images.unsplash.com/photo-1606664515524-ed2f786a0bd6?w=300&h=200&fit=crop',
    transmission: '‡∏≠‡∏≠‡πÇ‡∏ï‡πâ',
    seats: 5,
    originalPrice: '1100',
    offerPrice: '935'
  },
  {
    id: 3,
    name: 'MAZDA 3 2.0 SKYACTIV',
    image: 'https://images.unsplash.com/photo-1605559424843-9e4c228bf1c2?w=300&h=200&fit=crop',
    transmission: '‡∏≠‡∏≠‡πÇ‡∏ï‡πâ',
    seats: 5,
    originalPrice: '950',
    offerPrice: '807'
  }
])

// Form States
const driverSameAsRenter = ref(true)
const showAdditionalDriver = ref(false)
const showPassword = ref(false)

const driverInfo = ref({
  title: '',
  firstName: '',
  lastName: ''
})

const additionalDriver = ref({
  title: '',
  firstName: '',
  lastName: ''
})

const accountInfo = ref({
  email: '',
  password: ''
})

const contactInfo = ref({
  countryCode: '+66',
  phone: '',
  flightNumber: ''
})

const taxInfo = ref({
  type: 'personal',
  taxId: '',
  contactTitle: '',
  contactFirstName: '',
  contactLastName: ''
})

const addressInfo = ref({
  country: '',
  province: '',
  district: '',
  subDistrict: '',
  houseType: '',
  houseNumber: '',
  village: '',
  building: '',
  soi: '',
  road: '',
  postalCode: ''
})

const agreements = ref({
  terms: false,
  privacy: false
})

const paymentMethod = ref('now')

// Password Validation
const passwordValidation = ref({
  minLength: false,
  hasUpperCase: false,
  hasNumber: false,
  hasSpecial: false
})

const validatePassword = () => {
  const password = accountInfo.value.password
  passwordValidation.value = {
    minLength: password.length >= 8,
    hasUpperCase: /[A-Z]/.test(password),
    hasNumber: /\d/.test(password),
    hasSpecial: /[!@#$%^&*(),.?":{}|<>]/.test(password)
  }
}

// Full Address Computed
const fullAddress = computed(() => {
  const addr = addressInfo.value
  const parts = [
    addr.houseNumber,
    addr.village,
    addr.building,
    addr.soi && `‡∏ã‡∏≠‡∏¢${addr.soi}`,
    addr.road && `‡∏ñ‡∏ô‡∏ô${addr.road}`,
    addr.subDistrict && `‡πÅ‡∏Ç‡∏ß‡∏á${addr.subDistrict}`,
    addr.district && `‡πÄ‡∏Ç‡∏ï${addr.district}`,
    addr.province,
    addr.postalCode
  ].filter(Boolean)

  return parts.join(' ')
})

// Methods
const toggleAdditionalDriver = () => {
  showAdditionalDriver.value = !showAdditionalDriver.value
}

const selectUpgrade = (car) => {
  console.log('Selected upgrade:', car)
}

const proceedToPayment = () => {
  router.push('/payment')
}
</script>

<style scoped>
.checkout-page {
  background: #F9FAFB;
  min-height: 100vh;
  padding-top: 80px;
}

/* Timer Banner */
.timer-banner {
  background: #FF595A;
  padding: 16px 0;
}

.banner-content {
  max-width: 1400px;
  margin: 0 auto;
  padding: 0 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 12px;
}

.timer-text {
  font-family: 'Sukhumvit Set', sans-serif;
  font-size: 16px;
  font-weight: 400;
  color: white;
  letter-spacing: 0.08px;
}

.timer-text strong {
  font-weight: 700;
}

/* Progress Indicator */
.progress-container {
  background: white;
  padding: 32px 0;
  border-bottom: 1px solid #F4F6F8;
}

.progress-steps {
  max-width: 800px;
  margin: 0 auto;
  display: flex;
  align-items: center;
  justify-content: center;
}

.step {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
}

.step-circle {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background: #F4F6F8;
  color: #919EAB;
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: 'Sukhumvit Set', sans-serif;
  font-size: 16px;
  font-weight: 600;
  transition: all 0.3s;
}

.step.completed .step-circle {
  background: #36B37E;
  color: white;
}

.step.active .step-circle {
  background: #FF595A;
  color: white;
}

.step-label {
  font-family: 'Sukhumvit Set', sans-serif;
  font-size: 14px;
  font-weight: 400;
  color: #637381;
  letter-spacing: 0.07px;
  white-space: nowrap;
}

.step.active .step-label {
  color: #161C24;
  font-weight: 600;
}

.step-line {
  width: 120px;
  height: 2px;
  background: #F4F6F8;
  margin: 0 16px;
  margin-bottom: 28px;
}

.step-line.completed {
  background: #36B37E;
}

/* Container */
.checkout-container {
  max-width: 1400px;
  margin: 0 auto;
  padding: 40px 32px 60px;
  display: grid;
  grid-template-columns: 1fr 420px;
  gap: 40px;
}

/* Left Column */
.left-column {
  display: flex;
  flex-direction: column;
  gap: 24px;
}

/* Special Offer Section */
.special-offer-section {
  background: linear-gradient(135deg, #FFF4E6 0%, #FFE8E8 100%);
  border-radius: 16px;
  padding: 32px;
}

.offer-header {
  margin-bottom: 24px;
}

.offer-title {
  font-family: 'Sukhumvit Set', sans-serif;
  font-size: 24px;
  font-weight: 700;
  color: #161C24;
  letter-spacing: 0.12px;
  margin: 0 0 8px 0;
}

.offer-subtitle {
  font-family: 'Sukhumvit Set', sans-serif;
  font-size: 14px;
  font-weight: 400;
  color: #637381;
  letter-spacing: 0.07px;
  margin: 0;
}

.offer-cards {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 20px;
}

.offer-card {
  background: white;
  border-radius: 12px;
  padding: 20px;
  position: relative;
  transition: all 0.3s;
}

.offer-card:hover {
  transform: translateY(-4px);
  box-shadow: 0px 8px 24px rgba(0, 0, 0, 0.1);
}

.offer-badge {
  position: absolute;
  top: 16px;
  right: 16px;
  background: #36B37E;
  color: white;
  padding: 4px 12px;
  border-radius: 20px;
  font-family: 'Sukhumvit Set', sans-serif;
  font-size: 12px;
  font-weight: 700;
  letter-spacing: 0.06px;
}

.car-image {
  width: 100%;
  aspect-ratio: 16/10;
  border-radius: 8px;
  overflow: hidden;
  margin-bottom: 16px;
}

.car-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.car-name {
  font-family: 'Sukhumvit Set', sans-serif;
  font-size: 16px;
  font-weight: 600;
  color: #161C24;
  letter-spacing: 0.08px;
  margin: 0 0 12px 0;
}

.car-specs {
  display: flex;
  gap: 16px;
  margin-bottom: 16px;
}

.spec-item {
  display: flex;
  align-items: center;
  gap: 6px;
  font-family: 'Sukhumvit Set', sans-serif;
  font-size: 12px;
  color: #637381;
  letter-spacing: 0.06px;
}

.car-pricing {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 16px;
}

.original-price {
  font-family: 'Sukhumvit Set', sans-serif;
  font-size: 14px;
  color: #919EAB;
  text-decoration: line-through;
  letter-spacing: 0.07px;
}

.offer-price {
  font-family: 'Sukhumvit Set', sans-serif;
  font-size: 20px;
  font-weight: 700;
  color: #FF595A;
  letter-spacing: 0.10px;
}

.upgrade-button {
  width: 100%;
  padding: 12px;
  background: linear-gradient(135deg, #FF7E7E 0%, #FF595A 100%);
  border: none;
  border-radius: 8px;
  font-family: 'Sukhumvit Set', sans-serif;
  font-size: 14px;
  font-weight: 600;
  color: white;
  letter-spacing: 0.07px;
  cursor: pointer;
  transition: all 0.3s;
}

.upgrade-button:hover {
  transform: translateY(-2px);
  box-shadow: 0px 4px 12px rgba(255, 89, 90, 0.3);
}

/* Checkout Section */
.checkout-section {
  background: white;
  border-radius: 16px;
  padding: 32px;
  box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.04);
}

.section-header {
  display: flex;
  align-items: center;
  gap: 16px;
  margin-bottom: 28px;
}

.icon-circle {
  width: 48px;
  height: 48px;
  background: #F9FAFB;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.section-title {
  font-family: 'Sukhumvit Set', sans-serif;
  font-size: 20px;
  font-weight: 700;
  color: #161C24;
  letter-spacing: 0.10px;
  margin: 0;
}

/* Form Section */
.form-section {
  margin-bottom: 28px;
}

.form-section:last-child {
  margin-bottom: 0;
}

.form-header-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
}

.form-header-row.clickable {
  cursor: pointer;
}

.form-subtitle {
  font-family: 'Sukhumvit Set', sans-serif;
  font-size: 16px;
  font-weight: 600;
  color: #161C24;
  letter-spacing: 0.08px;
  margin: 0;
}

.checkbox-group {
  display: flex;
  align-items: center;
  gap: 8px;
}

.checkbox-group input[type="checkbox"] {
  width: 18px;
  height: 18px;
  cursor: pointer;
  accent-color: #FF595A;
}

.checkbox-group label {
  font-family: 'Sukhumvit Set', sans-serif;
  font-size: 14px;
  font-weight: 400;
  color: #637381;
  letter-spacing: 0.07px;
  cursor: pointer;
}

.add-button {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 16px;
  background: white;
  border: 1.5px solid #FF595A;
  border-radius: 8px;
  font-family: 'Sukhumvit Set', sans-serif;
  font-size: 14px;
  font-weight: 600;
  color: #FF595A;
  letter-spacing: 0.07px;
  cursor: pointer;
  transition: all 0.2s;
}

.add-button:hover {
  background: #FFF4F3;
}

/* Form Grids */
.form-grid-2 {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 20px;
  margin-bottom: 20px;
}

.form-grid-2:last-child {
  margin-bottom: 0;
}

.form-grid-3 {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 20px;
}

.form-group {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.form-group label {
  font-family: 'Sukhumvit Set', sans-serif;
  font-size: 14px;
  font-weight: 400;
  color: #161C24;
  letter-spacing: 0.07px;
}

.required {
  color: #FF595A;
}

.form-input,
.form-textarea {
  padding: 12px 16px;
  border: 1px solid #DFE3E8;
  border-radius: 8px;
  font-family: 'Sukhumvit Set', sans-serif;
  font-size: 14px;
  color: #161C24;
  letter-spacing: 0.07px;
  outline: none;
  transition: all 0.2s;
}

.form-input:focus,
.form-textarea:focus {
  border-color: #FF595A;
  box-shadow: 0 0 0 3px rgba(255, 89, 90, 0.1);
}

.form-input::placeholder {
  color: #919EAB;
}

.input-hint {
  font-family: 'Sukhumvit Set', sans-serif;
  font-size: 12px;
  color: #919EAB;
  letter-spacing: 0.06px;
}

/* Password Input */
.password-input-wrapper {
  position: relative;
}

.password-toggle {
  position: absolute;
  right: 12px;
  top: 50%;
  transform: translateY(-50%);
  background: none;
  border: none;
  cursor: pointer;
  padding: 4px;
  display: flex;
  align-items: center;
}

/* Password Validation */
.password-validation {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
  margin-top: 16px;
}

.validation-item {
  display: flex;
  align-items: center;
  gap: 8px;
  font-family: 'Sukhumvit Set', sans-serif;
  font-size: 12px;
  color: #919EAB;
  letter-spacing: 0.06px;
}

.validation-item svg {
  flex-shrink: 0;
  stroke: #DFE3E8;
}

.validation-item.valid {
  color: #36B37E;
}

.validation-item.valid svg {
  stroke: #36B37E;
}

/* Phone Input */
.phone-input-wrapper {
  display: flex;
  gap: 12px;
}

.country-code-select {
  width: 120px;
  padding: 12px;
  border: 1px solid #DFE3E8;
  border-radius: 8px;
  font-family: 'Sukhumvit Set', sans-serif;
  font-size: 14px;
  color: #161C24;
  outline: none;
  cursor: pointer;
}

.phone-input {
  flex: 1;
}

/* Radio Group */
.radio-group {
  display: flex;
  gap: 20px;
  margin-bottom: 24px;
}

.radio-item {
  flex: 1;
  padding: 16px 20px;
  border: 2px solid #DFE3E8;
  border-radius: 12px;
  cursor: pointer;
  transition: all 0.2s;
}

.radio-item.active {
  border-color: #FF595A;
  background: #FFF4F3;
}

.radio-item input[type="radio"] {
  display: none;
}

.radio-item label {
  display: flex;
  align-items: center;
  gap: 12px;
  cursor: pointer;
}

.radio-circle {
  width: 20px;
  height: 20px;
  border: 2px solid #DFE3E8;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.radio-item.active .radio-circle {
  border-color: #FF595A;
}

.radio-inner {
  width: 12px;
  height: 12px;
  background: #FF595A;
  border-radius: 50%;
}

.radio-item label span {
  font-family: 'Sukhumvit Set', sans-serif;
  font-size: 14px;
  font-weight: 600;
  color: #161C24;
  letter-spacing: 0.07px;
}

/* Checkbox Group Vertical */
.checkbox-group-vertical {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.checkbox-item {
  display: flex;
  align-items: flex-start;
  gap: 10px;
}

.checkbox-item input[type="checkbox"] {
  width: 18px;
  height: 18px;
  margin-top: 2px;
  cursor: pointer;
  accent-color: #FF595A;
  flex-shrink: 0;
}

.checkbox-item label {
  font-family: 'Sukhumvit Set', sans-serif;
  font-size: 14px;
  font-weight: 400;
  color: #161C24;
  letter-spacing: 0.07px;
  cursor: pointer;
  line-height: 1.6;
}

.checkbox-item label a {
  color: #FF595A;
  text-decoration: none;
  margin: 0 4px;
}

.checkbox-item label a:hover {
  text-decoration: underline;
}

/* Additional Driver Form */
.additional-driver-form {
  padding-top: 20px;
}

/* Transitions */
.expand-enter-active,
.expand-leave-active {
  transition: all 0.3s ease;
  max-height: 200px;
  overflow: hidden;
}

.expand-enter-from,
.expand-leave-to {
  max-height: 0;
  opacity: 0;
}

/* Right Column */
.right-column {
  position: sticky;
  top: 100px;
  height: fit-content;
}

.summary-card {
  background: white;
  border-radius: 16px;
  overflow: hidden;
  box-shadow: 0px 4px 20px rgba(0, 0, 0, 0.08);
}

.summary-car-image {
  width: 100%;
  aspect-ratio: 16/10;
  overflow: hidden;
}

.summary-car-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.summary-car-details {
  padding: 20px 24px;
  border-bottom: 1px solid #F4F6F8;
}

.car-title {
  font-family: 'Sukhumvit Set', sans-serif;
  font-size: 20px;
  font-weight: 700;
  color: #161C24;
  letter-spacing: 0.10px;
  margin: 0 0 4px 0;
}

.car-subtitle {
  font-family: 'Sukhumvit Set', sans-serif;
  font-size: 14px;
  font-weight: 400;
  color: #637381;
  letter-spacing: 0.07px;
  margin: 0;
}

/* Trip Details */
.trip-details {
  padding: 24px;
  border-bottom: 1px solid #F4F6F8;
}

.trip-row {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 16px;
}

.trip-row:last-child {
  margin-bottom: 0;
}

.trip-label {
  display: flex;
  align-items: center;
  gap: 8px;
  font-family: 'Sukhumvit Set', sans-serif;
  font-size: 14px;
  font-weight: 400;
  color: #637381;
  letter-spacing: 0.07px;
}

.trip-value {
  font-family: 'Sukhumvit Set', sans-serif;
  font-size: 14px;
  font-weight: 600;
  color: #161C24;
  letter-spacing: 0.07px;
  text-align: right;
}

.divider {
  height: 1px;
  background: #F4F6F8;
  margin: 16px 0;
}

/* Payment Breakdown */
.payment-breakdown {
  padding: 24px;
  border-bottom: 1px solid #F4F6F8;
}

.breakdown-title {
  font-family: 'Sukhumvit Set', sans-serif;
  font-size: 16px;
  font-weight: 700;
  color: #161C24;
  letter-spacing: 0.08px;
  margin: 0 0 16px 0;
}

.breakdown-row {
  display: flex;
  justify-content: space-between;
  margin-bottom: 12px;
  font-family: 'Sukhumvit Set', sans-serif;
  font-size: 14px;
  color: #637381;
  letter-spacing: 0.07px;
}

.breakdown-row:last-child {
  margin-bottom: 0;
}

.breakdown-row.discount {
  color: #36B37E;
}

.breakdown-row.subtotal {
  font-weight: 600;
  color: #161C24;
  margin-top: 16px;
  padding-top: 16px;
}

/* Total Section */
.total-section {
  padding: 24px;
  background: #FFF4F3;
  border-bottom: 1px solid #F4F6F8;
}

.total-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.total-label {
  font-family: 'Sukhumvit Set', sans-serif;
  font-size: 16px;
  font-weight: 700;
  color: #161C24;
  letter-spacing: 0.08px;
}

.total-amount {
  font-family: 'Sukhumvit Set', sans-serif;
  font-size: 24px;
  font-weight: 700;
  color: #FF595A;
  letter-spacing: 0.12px;
}

/* Payment Method Section */
.payment-method-section {
  padding: 24px;
}

.payment-title {
  font-family: 'Sukhumvit Set', sans-serif;
  font-size: 16px;
  font-weight: 700;
  color: #161C24;
  letter-spacing: 0.08px;
  margin: 0 0 16px 0;
}

.payment-options {
  display: flex;
  flex-direction: column;
  gap: 12px;
  margin-bottom: 24px;
}

.payment-option {
  padding: 16px;
  border: 2px solid #DFE3E8;
  border-radius: 12px;
  cursor: pointer;
  transition: all 0.2s;
}

.payment-option.active {
  border-color: #FF595A;
  background: #FFF4F3;
}

.payment-option input[type="radio"] {
  display: none;
}

.payment-option label {
  display: flex;
  align-items: center;
  gap: 12px;
  cursor: pointer;
}

.payment-details {
  flex: 1;
}

.payment-name {
  font-family: 'Sukhumvit Set', sans-serif;
  font-size: 14px;
  font-weight: 600;
  color: #161C24;
  letter-spacing: 0.07px;
  display: block;
  margin-bottom: 6px;
}

.payment-amounts {
  display: flex;
  align-items: center;
  gap: 8px;
}

.discount-badge {
  background: #36B37E;
  color: white;
  padding: 2px 8px;
  border-radius: 12px;
  font-family: 'Sukhumvit Set', sans-serif;
  font-size: 12px;
  font-weight: 700;
  letter-spacing: 0.06px;
}

.payment-price {
  font-family: 'Sukhumvit Set', sans-serif;
  font-size: 18px;
  font-weight: 700;
  color: #FF595A;
  letter-spacing: 0.09px;
}

/* Submit Button */
.submit-button {
  width: 100%;
  padding: 16px;
  background: linear-gradient(135deg, #FF7E7E 0%, #FF595A 100%);
  border: none;
  border-radius: 12px;
  font-family: 'Sukhumvit Set', sans-serif;
  font-size: 16px;
  font-weight: 700;
  color: white;
  letter-spacing: 0.08px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  transition: all 0.3s;
  box-shadow: 0px 4px 12px rgba(255, 89, 90, 0.3);
  margin-bottom: 20px;
}

.submit-button:hover {
  transform: translateY(-2px);
  box-shadow: 0px 6px 16px rgba(255, 89, 90, 0.4);
}

/* Credit Card Note */
.credit-card-note {
  display: flex;
  gap: 12px;
  padding: 16px 24px 24px;
}

.note-content {
  font-family: 'Sukhumvit Set', sans-serif;
  font-size: 12px;
  color: #637381;
  letter-spacing: 0.06px;
  line-height: 1.6;
}

.note-content strong {
  color: #161C24;
  font-size: 14px;
  font-weight: 700;
  display: block;
  margin-bottom: 8px;
}

.note-content ul {
  margin: 0;
  padding-left: 20px;
}

.note-content li {
  margin-bottom: 4px;
}

/* Responsive */
@media (max-width: 1024px) {
  .checkout-container {
    grid-template-columns: 1fr;
  }

  .right-column {
    position: static;
  }

  .offer-cards {
    grid-template-columns: 1fr;
  }

  .form-grid-3 {
    grid-template-columns: 1fr;
  }
}

@media (max-width: 768px) {
  .checkout-container {
    padding: 20px 16px 40px;
  }

  .checkout-section {
    padding: 20px;
  }

  .form-grid-2 {
    grid-template-columns: 1fr;
  }

  .progress-steps {
    padding: 0 16px;
  }

  .step-line {
    width: 60px;
    margin: 0 8px;
  }

  .step-label {
    font-size: 12px;
  }
}
</style>
